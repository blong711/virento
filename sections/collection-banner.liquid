{% comment %} Banner Collection {% endcomment %}
{% if section.settings.layout == 'layout-2' %}
  <section class="flat-spacing-3 pt-0 s-banner-colection style-lg style-abs color-{{ section.settings.color_scheme }} section-{{ section.id }}-padding">
{% else %}
  <section class="s-banner-colection banner-cls-electric-acc style-abs-2 flat-spacing color-{{ section.settings.color_scheme }} gradient section-{{ section.id }}-padding">
{% endif %}
  <div class="{{ section.settings.width }}">
    <div class="banner-content">
      <div class="image">
        {% comment %} Define base alt text once {% endcomment %}
        {% assign base_alt = section.settings.title | default: 'Collection banner' %}

        {% comment %} Desktop image {% endcomment %}
        {% if section.settings.banner_image %}
          {% assign desktop_alt = section.settings.banner_image.alt
            | default: base_alt
            | append: ' - Collection banner image'
          %}
          {{
            section.settings.banner_image
            | image_url: width: 1920
            | image_tag: loading: 'lazy', class: 'lazyload effect-paralax desktop-only', alt: desktop_alt, height: 'auto'
            | escape
          }}
        {% else %}
          {{ 'lifestyle-1' | placeholder_svg_tag: 'lazyload effect-paralax desktop-only'}}
        {% endif %}

        {% comment %} Mobile image {% endcomment %}
        {% if section.settings.banner_image_mobile %}
          {% assign mobile_alt = section.settings.banner_image_mobile.alt
            | default: base_alt
            | append: ' - Collection banner image for mobile'
          %}
          {{
            section.settings.banner_image_mobile
            | image_url: width: 767
            | image_tag: loading: 'lazy', class: 'lazyload effect-paralax mobile-only', alt: mobile_alt, height: 'auto'
            | escape
          }}
        {% elsif section.settings.banner_image %}
          {% assign mobile_fallback_alt = section.settings.banner_image.alt
            | default: base_alt
            | append: ' - Collection banner image for mobile'
          %}
          {{
            section.settings.banner_image
            | image_url: width: 767
            | image_tag: loading: 'lazy', class: 'lazyload effect-paralax mobile-only', alt: mobile_fallback_alt, height: 'auto'
            | escape
          }}
        {% else %}
          {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg mobile-only'}}
        {% endif %}
      </div>
      {% if section.settings.layout == 'layout-2' %}
        <div class="box-content wow fadeInUp">
          <div class="box-title-banner">
            {% if section.settings.title != blank %}
              <h3 class="title {{ section.settings.title_font_size }} {{ section.settings.title_font_weight }} text-white">
                {{ section.settings.title }}
              </h3>
            {% endif %}
            {% if section.settings.subtitle != blank %}
              <p class="sub {{ section.settings.subtitle_font_size }} text-white">
                {{ section.settings.subtitle }}
              </p>
            {% endif %}
          </div>
          {% if section.settings.button_label != blank %}
            <div class="box-btn-banner">
              <a href="{{ section.settings.button_link | default: '#' }}" class="tf-btn btn-white animate-btn animate-dark">
                {{ section.settings.button_label }}
                {% if section.settings.button_icon %}
                  <img class="icon" width="24" height="24" src="{{ section.settings.button_icon | image_url: width: 24 }}" alt="{{ section.settings.button_label }}">
                {% endif %}
              </a>
            </div>
          {% endif %}
        </div>
      {% else %}
        <div class="box-content text-{{ section.settings.content_alignment }}">
          <div class="box-title-banner">
            {% if section.settings.title != blank %}
              <p class="title {{ section.settings.title_font_size }} {{ section.settings.title_font_weight }}">
                {{ section.settings.title }}
              </p>
            {% endif %}
            {% if section.settings.subtitle != blank %}
              <p class="sub {{ section.settings.subtitle_font_size }}" style="color: rgb(var(--color-foreground2));">
                {{ section.settings.subtitle }}
              </p>
            {% endif %}
          </div>
          {% if section.settings.button_label != blank %}
            <div class="box-btn-banner">
              <a href="{{ section.settings.button_link | default: '#' }}" class="tf-btn btn-dark2 animate-btn">
                {{ section.settings.button_label }}
              </a>
            </div>
          {% endif %}
        </div>
      {% endif %}
    </div>
  </div>
{% if section.settings.layout == 'layout-2' %}
</section>
{% else %}
</section>
{% endif %}

{% schema %}
{
  "name": "t:sections.collection-banner.name",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "select",
      "id": "width",
      "label": "t:sections.all.width.label",
      "options": [
        {
          "value": "container",
          "label": "t:sections.all.width.options.boxed"
        },
        {
          "value": "container-full",
          "label": "t:sections.all.width.options.full_width"
        }
      ],
      "default": "container"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout Style",
      "options": [
        {
          "value": "layout-1",
          "label": "Layout 1 (Original)"
        },
        {
          "value": "layout-2",
          "label": "Layout 2 (Modern)"
        }
      ],
      "default": "layout-1"
    },
    {
      "type": "header",
      "content": "t:sections.all.content"
    },
    {
      "type": "image_picker",
      "id": "banner_image",
      "label": "t:sections.collection-banner.settings.banner_image"
    },
    {
      "type": "image_picker",
      "id": "banner_image_mobile",
      "label": "t:sections.collection-banner.settings.banner_image_mobile"
    },
    {
      "type": "text",
      "id": "title",
      "label": "t:sections.collection-banner.settings.title",
      "default": "t:sections.collection-banner.settings.title_default"
    },
    {
      "type": "select",
      "id": "title_font_size",
      "label": "t:sections.collection-banner.settings.title_font_size",
      "options": [
        {
          "value": "display-sm",
          "label": "t:sections.collection-banner.settings.title_font_size_options.display-sm"
        },
        {
          "value": "display-md",
          "label": "t:sections.collection-banner.settings.title_font_size_options.display-md"
        },
        {
          "value": "display-lg",
          "label": "t:sections.collection-banner.settings.title_font_size_options.display-lg"
        }
      ],
      "default": "display-md"
    },
    {
      "type": "select",
      "id": "title_font_weight",
      "label": "t:sections.collection-banner.settings.title_font_weight",
      "options": [
        {
          "value": "fw-light",
          "label": "t:sections.collection-banner.settings.title_font_weight_options.fw-light"
        },
        {
          "value": "fw-regular",
          "label": "t:sections.collection-banner.settings.title_font_weight_options.fw-regular"
        },
        {
          "value": "fw-medium",
          "label": "t:sections.collection-banner.settings.title_font_weight_options.fw-medium"
        },
        {
          "value": "fw-semibold",
          "label": "t:sections.collection-banner.settings.title_font_weight_options.fw-semibold"
        },
        {
          "value": "fw-bold",
          "label": "t:sections.collection-banner.settings.title_font_weight_options.fw-bold"
        }
      ],
      "default": "fw-medium"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "t:sections.collection-banner.settings.subtitle",
      "default": "t:sections.collection-banner.settings.subtitle_default"
    },
    {
      "type": "select",
      "id": "subtitle_font_size",
      "label": "t:sections.collection-banner.settings.subtitle_font_size",
      "options": [
        {
          "value": "text-sm",
          "label": "t:sections.collection-banner.settings.subtitle_font_size_options.text-sm"
        },
        {
          "value": "text-md",
          "label": "t:sections.collection-banner.settings.subtitle_font_size_options.text-md"
        },
        {
          "value": "text-lg",
          "label": "t:sections.collection-banner.settings.subtitle_font_size_options.text-lg"
        }
      ],
      "default": "text-md"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "t:sections.collection-banner.settings.button_label",
      "default": "t:sections.collection-banner.settings.button_label_default"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "t:sections.collection-banner.settings.button_link"
    },
    {
      "type": "image_picker",
      "id": "button_icon",
      "label": "Button Icon (for Layout 2)"
    },
    {
      "type": "select",
      "id": "content_position",
      "label": "t:sections.collection-banner.settings.content_position",
      "options": [
        {
          "value": "top-left",
          "label": "t:sections.collection-banner.settings.content_position_options.top-left"
        },
        {
          "value": "top-center",
          "label": "t:sections.collection-banner.settings.content_position_options.top-center"
        },
        {
          "value": "top-right",
          "label": "t:sections.collection-banner.settings.content_position_options.top-right"
        },
        {
          "value": "center-left",
          "label": "t:sections.collection-banner.settings.content_position_options.center-left"
        },
        {
          "value": "center",
          "label": "t:sections.collection-banner.settings.content_position_options.center"
        },
        {
          "value": "center-right",
          "label": "t:sections.collection-banner.settings.content_position_options.center-right"
        },
        {
          "value": "bottom-left",
          "label": "t:sections.collection-banner.settings.content_position_options.bottom-left"
        },
        {
          "value": "bottom-center",
          "label": "t:sections.collection-banner.settings.content_position_options.bottom-center"
        },
        {
          "value": "bottom-right",
          "label": "t:sections.collection-banner.settings.content_position_options.bottom-right"
        }
      ],
      "default": "center-left"
    },
    {
      "type": "select",
      "id": "content_alignment",
      "label": "t:sections.collection-banner.settings.content_alignment",
      "options": [
        {
          "value": "start",
          "label": "t:sections.collection-banner.settings.content_alignment_options.start"
        },
        {
          "value": "center",
          "label": "t:sections.collection-banner.settings.content_alignment_options.center"
        },
        {
          "value": "end",
          "label": "t:sections.collection-banner.settings.content_alignment_options.end"
        }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "content_width",
      "min": 400,
      "max": 600,
      "step": 2,
      "unit": "px",
      "label": "t:sections.collection-banner.settings.content_width",
      "default": 478
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 120,
      "step": 2,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 120,
      "step": 2,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_mobile_rate",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "t:sections.top_bar.settings.padding_mobile_rate.label",
      "default": 75,
      "info": "t:sections.top_bar.settings.padding_mobile_rate.info"
    }
  ],
  "presets": [
    {
      "name": "t:sections.collection-banner.presets.name",
      "category": "t:sections.collection-banner.presets.category"
    }
  ]
}
{% endschema %}

{% style %}
  .section-{{ section.id }}-padding .mobile-only {
      display: block;
  }

  .section-{{ section.id }}-padding .desktop-only {
      display: none;
  }

  @media screen and (min-width: 768px) {
      .section-{{ section.id }}-padding .mobile-only {
          display: none;
      }

      .section-{{ section.id }}-padding .desktop-only {
          display: block;
      }
  }

  .section-{{ section.id }}-padding {
      padding-top: calc({{ section.settings.padding_top }}px * {{ section.settings.padding_mobile_rate | divided_by: 100.0 }});
      padding-bottom: calc({{ section.settings.padding_bottom }}px * {{ section.settings.padding_mobile_rate | divided_by: 100.0 }});
  }

  @media screen and (min-width: 750px) {
      .section-{{ section.id }}-padding {
          padding-top: {{ section.settings.padding_top }}px;
          padding-bottom: {{ section.settings.padding_bottom }}px;
      }
  }

  @media (min-width: 768px) {
      {% if section.settings.layout == 'layout-2' %}
          .style-lg.style-abs .box-content {
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              text-align: center;
              z-index: 2;
          }
      {% else %}
          .banner-cls-electric-acc.style-abs-2 .box-content {
              width: {{ section.settings.content_width }}px;
              padding: 30px 64px;
              position: absolute;
              {% case section.settings.content_position %}
                  {% when 'top-left' %}
                      top: 64px;
                      left: 30%;
                      transform: translateX(-50%);
                  {% when 'top-center' %}
                      top: 64px;
                      left: 50%;
                      transform: translateX(-50%);
                  {% when 'top-right' %}
                      top: 64px;
                      right: 64px;
                      left: 70%;
                      transform: translateX(-50%);
                  {% when 'center-left' %}
                      top: 50%;
                      left: 64px;
                      transform: translateY(-50%);
                  {% when 'center' %}
                      top: 50%;
                      left: 50%;
                      transform: translate(-50%, -50%);
                  {% when 'center-right' %}
                      top: 50%;
                      left: 50%;
                      transform: translateY(-50%);
                  {% when 'bottom-left' %}
                      left: 30%;
                      top: 40%;
                      transform: translateX(-50%);
                  {% when 'bottom-center' %}
                      left: 50%;
                      top: 40%;
                      transform: translateX(-50%);
                  {% when 'bottom-right' %}
                      left: 70%;
                      top: 40%;
                      transform: translateX(-50%);
              {% endcase %}
          }
      {% endif %}
  }
{% endstyle %}
