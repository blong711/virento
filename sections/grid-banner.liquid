<section class="section-{{ section.id }} color-{{ section.settings.color_scheme }} gradient">
  <div class="flat-spacing-34 {% if section.settings.add_top_line %}line-top{% endif %} section-{{ section.id }}-padding">
    <div class="{{ section.settings.width }}">
      <div class="grid-cls {% if section.blocks.size == 3 %}{% if section.settings.three_item_style == 'style1' %}grid-cls-v1{% else %}grid-cls-v3{% endif %}{% else %}grid-cls-v6{% endif %} wow fadeInUp">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'grid_item' %}
              <div class="item{{ forloop.index }} color-{{ block.settings.color_scheme | default: section.settings.color_scheme }} {% if section.blocks.size == 3 %}{% if section.settings.three_item_style == 'style1' %}wg-cls style-abs{% else %}s-cls rounded-0 style-absolute abs-left-center{% endif %}{% else %}s-cls radius-20 style-absolute abs-top-center{% endif %} {% if block.settings.hover_image %}hover-img{% endif %}" {{ block.shopify_attributes }}>
                {% if section.blocks.size == 3 %}
                  {% if section.settings.three_item_style == 'style1' %}
                    <a href="{{ block.settings.link }}" class="image img-style d-block">
                      {% if block.settings.image %}
                        {{
                          block.settings.image
                          | image_url: width: 1400
                          | image_tag: loading: 'lazy', class: 'lazyload', alt: block.settings.title
                        }}
                      {% else %}
                        {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
                      {% endif %}
                    </a>
                  {% else %}
                    <div class="image img-style">
                      {% if block.settings.image %}
                        {{
                          block.settings.image
                          | image_url: width: 1400
                          | image_tag: loading: 'lazy', class: 'lazyload', alt: block.settings.title
                        }}
                      {% else %}
                        {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
                      {% endif %}
                    </div>
                  {% endif %}
                {% else %}
                  <div class="image img-style {% if forloop.index == 1 %}h-100{% endif %}">
                    {% if block.settings.image %}
                      {{
                        block.settings.image
                        | image_url: width: 1400
                        | image_tag: loading: 'lazy', class: 'lazyload', alt: block.settings.title
                      }}
                    {% else %}
                      {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
                    {% endif %}
                  </div>
                {% endif %}
                {% if section.blocks.size == 3 %}
                  {% if section.settings.three_item_style == 'style1' %}
                    <div class="cls-btn wow fadeInUp">
                      <div class="{% case block.settings.title_size %}{% when 'small' %}display-md-2{% when 'large' %}display-lg{% else %}display-md{% endcase %} mb_16 font-14">{{ block.settings.title }}</div>
                      {% if block.settings.button_style == 'primary' %}
                        {% if block.settings.button_label != blank and block.settings.link != blank %}
                          <a href="{{ block.settings.link }}" class="tf-btn btn-cls animate-btn animate-dark">
                            {{ block.settings.button_label }}
                          </a>
                        {% endif %}
                      {% else %}
                        {% if block.settings.button_label != blank and block.settings.link != blank %}
                          <a href="{{ block.settings.link }}" class="d-flex align-items-center text-md fw-medium gap-10 link">
                            <span class="text-transform-none">
                              {{ block.settings.button_label }}
                            </span>
                            <i class="icon-arrow-top-left fs-8"></i>
                          </a>
                        {% endif %}
                      {% endif %}
                    </div>
                  {% else %}
                    <div class="content">
                      <div class="box-title">
                        <p class="{% case block.settings.subtitle_size %}{% when 'small' %}text-sm{% when 'large' %}text-lg{% else %}text-md{% endcase %} font-13 fw-semibold" style="color: rgb(var(--color-foreground2));">{{ block.settings.subtitle }}</p>
                        {% capture heading_tag %}{% case block.settings.title_size %}{% when 'small' %}h5{% when 'large' %}h3{% else %}h4{% endcase %}{% endcapture %}
                        <{{ heading_tag }} class="font-7 fw-medium">
                          {{ block.settings.title }}
                        </{{ heading_tag }}>
                      </div>
                      <div class="box-btn">
                        {% if block.settings.button_style == 'primary' %}
                          {% if block.settings.button_label != blank and block.settings.link != blank %}
                            <a href="{{ block.settings.link }}" class="tf-btn fw-normal animate-btn font-13 btn-purple-1 border-0">
                              {{ block.settings.button_label }}
                              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M22.354 11.6459C22.4006 11.6923 22.4375 11.7475 22.4627 11.8083C22.4879 11.869 22.5009 11.9341 22.5009 11.9999C22.5009 12.0657 22.4879 12.1308 22.4627 12.1915C22.4375 12.2523 22.4006 12.3075 22.354 12.3539L18.354 16.3539C18.3075 16.4004 18.2523 16.4373 18.1916 16.4624C18.1308 16.4876 18.0657 16.5005 18 16.5005C17.8672 16.5005 17.7399 16.4478 17.646 16.3539C17.5521 16.26 17.4994 16.1327 17.4994 15.9999C17.4994 15.8671 17.5521 15.7398 17.646 15.6459L20.793 12.4999H2C1.86739 12.4999 1.74021 12.4472 1.64645 12.3535C1.55268 12.2597 1.5 12.1325 1.5 11.9999C1.5 11.8673 1.55268 11.7401 1.64645 11.6463C1.74021 11.5526 1.86739 11.4999 2 11.4999H20.793L17.646 8.3539C17.5521 8.26001 17.4994 8.13268 17.4994 7.9999C17.4994 7.86712 17.5521 7.73979 17.646 7.6459C17.7399 7.55201 17.8672 7.49927 18 7.49927C18.1328 7.49927 18.2601 7.55201 18.354 7.6459L22.354 11.6459Z" fill="white"></path>
                              </svg>
                            </a>
                          {% endif %}
                        {% else %}
                          {% if block.settings.button_label != blank and block.settings.link != blank %}
                            <a href="{{ block.settings.link }}" class="d-flex align-items-center text-md fw-medium gap-10 link">
                              <span class="text-transform-none">
                                {{ block.settings.button_label }}
                              </span>
                              <i class="icon-arrow-top-left fs-8"></i>
                            </a>
                          {% endif %}
                        {% endif %}
                      </div>
                    </div>
                  {% endif %}
                {% else %}
                  <div class="content">
                    <div class="box-title">
                      <div class="{% case block.settings.title_size %}{% when 'small' %}display-md-2{% when 'large' %}display-lg{% else %}display-md{% endcase %}">
                        {{ block.settings.title }}
                      </div>
                    </div>
                    <div class="box-btn">
                      {% if block.settings.button_style == 'primary' %}
                        {% if block.settings.button_label != blank and block.settings.link != blank %}
                          <a href="{{ block.settings.link }}" class="tf-btn hover-primary">
                              {{ block.settings.button_label }}
                              <i class="icon icon-arrow-top-left"></i>
                          </a>
                        {% endif %}
                      {% else %}
                        {% if block.settings.button_label != blank and block.settings.link != blank %}
                          <a href="{{ block.settings.link }}" class="d-flex align-items-center text-md fw-medium gap-10 link">
                              <span class="text-transform-none">
                              {{ block.settings.button_label }}
                              </span>
                              <i class="icon-arrow-top-left fs-8"></i>
                          </a>
                        {% endif %}
                      {% endif %}
                    </div>
                  </div>
                {% endif %}
              </div>
          {% endcase %}
        {% endfor %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "t:sections.grid-banner.name",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.grid-banner.settings.color_scheme",
      "default": "scheme-1"
    },
    {
      "type": "select",
      "id": "width",
      "label": "t:sections.grid-banner.settings.width",
      "options": [
        {
          "value": "container",
          "label": "t:sections.grid-banner.settings.width_boxed"
        },
        {
          "value": "container-full",
          "label": "t:sections.grid-banner.settings.width_full"
        }
      ],
      "default": "container-full"
    },
    {
      "type": "checkbox",
      "id": "add_top_line",
      "label": "t:sections.grid-banner.settings.add_top_line",
      "default": true
    },
    {
      "type": "select",
      "id": "three_item_style",
      "label": "t:sections.grid-banner.settings.three_item_style",
      "options": [
        {
          "value": "style1",
          "label": "t:sections.grid-banner.settings.style1"
        },
        {
          "value": "style2",
          "label": "t:sections.grid-banner.settings.style2"
        }
      ],
      "default": "style1",
      "info": "t:sections.grid-banner.settings.layout_info"
    },
    {
      "type": "header",
      "content": "t:sections.grid-banner.settings.padding_section"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "t:sections.grid-banner.settings.padding_top",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "t:sections.grid-banner.settings.padding_bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_mobile_rate",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "t:sections.grid-banner.settings.padding_mobile_rate",
      "default": 50,
      "info": "t:sections.grid-banner.settings.padding_mobile_info"
    },
    {
      "type": "range",
      "id": "padding_tablet_rate",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "t:sections.top_bar.settings.padding_tablet_rate.label",
      "default": 60,
      "info": "t:sections.top_bar.settings.padding_tablet_rate.info"
    }
  ],
  "blocks": [
    {
      "type": "grid_item",
      "name": "t:sections.grid-banner.blocks.grid_item.name",
      "limit": 4,
      "settings": [
        {
          "type": "color_scheme",
          "id": "color_scheme",
          "label": "t:sections.grid-banner.settings.color_scheme",
          "default": "scheme-1"
        },
        {
          "type": "header",
          "content": "t:sections.grid-banner.blocks.grid_item.settings.media_header"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "t:sections.grid-banner.blocks.grid_item.settings.image"
        },
        {
          "type": "checkbox",
          "id": "hover_image",
          "label": "t:sections.grid-banner.blocks.grid_item.settings.hover_image",
          "default": true
        },
        {
          "type": "header",
          "content": "t:sections.grid-banner.blocks.grid_item.settings.content_header"
        },
        {
          "type": "text",
          "id": "title",
          "label": "t:sections.grid-banner.blocks.grid_item.settings.title",
          "default": "Banner Title"
        },
        {
          "type": "select",
          "id": "title_size",
          "label": "t:sections.grid-banner.blocks.grid_item.settings.title_size",
          "options": [
            {
              "value": "small",
              "label": "t:sections.grid-banner.blocks.grid_item.settings.size_small"
            },
            {
              "value": "medium",
              "label": "t:sections.grid-banner.blocks.grid_item.settings.size_medium"
            },
            {
              "value": "large",
              "label": "t:sections.grid-banner.blocks.grid_item.settings.size_large"
            }
          ],
          "default": "medium"
        },
        {
          "type": "text",
          "id": "subtitle",
          "label": "t:sections.grid-banner.blocks.grid_item.settings.subtitle",
          "default": "PROMOTION",
          "visible_if": "{{section.settings.three_item_style == 'style2'}}"
        },
        {
          "type": "select",
          "id": "subtitle_size",
          "label": "t:sections.grid-banner.blocks.grid_item.settings.subtitle_size",
          "options": [
            {
              "value": "small",
              "label": "t:sections.grid-banner.blocks.grid_item.settings.size_small"
            },
            {
              "value": "medium",
              "label": "t:sections.grid-banner.blocks.grid_item.settings.size_medium"
            },
            {
              "value": "large",
              "label": "t:sections.grid-banner.blocks.grid_item.settings.size_large"
            }
          ],
          "default": "medium",
          "visible_if": "{{section.settings.three_item_style == 'style2'}}"
        },
        {
          "type": "url",
          "id": "link",
          "label": "t:sections.grid-banner.blocks.grid_item.settings.link"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "t:sections.grid-banner.blocks.grid_item.settings.button_label",
          "default": "View Collection"
        },
        {
          "type": "select",
          "id": "button_style",
          "label": "t:sections.grid-banner.blocks.grid_item.settings.button_style",
          "options": [
            {
              "value": "primary",
              "label": "t:sections.grid-banner.blocks.grid_item.settings.button_primary"
            },
            {
              "value": "link",
              "label": "t:sections.grid-banner.blocks.grid_item.settings.button_link"
            }
          ],
          "default": "primary"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Grid Banner",
      "category": "Image",
      "blocks": [
        {
          "type": "grid_item",
          "settings": {
            "title": "New Arrivals",
            "button_label": "View Collection",
            "button_style": "primary"
          }
        },
        {
          "type": "grid_item",
          "settings": {
            "title": "Sneakers",
            "button_label": "Explore Now",
            "button_style": "link"
          }
        },
        {
          "type": "grid_item",
          "settings": {
            "title": "Sandals",
            "button_label": "Explore Now",
            "button_style": "link"
          }
        },
        {
          "type": "grid_item",
          "settings": {
            "title": "Boots",
            "button_label": "Explore Now",
            "button_style": "link"
          }
        }
      ]
    }
  ]
}
{% endschema %}

{% style %}
  .section-{{ section.id }}-padding {
    padding-top: calc({{ section.settings.padding_top }}px * {{ section.settings.padding_mobile_rate | divided_by: 100.0 }});
    padding-bottom: calc({{ section.settings.padding_bottom }}px * {{ section.settings.padding_mobile_rate | divided_by: 100.0 }});
  }

  @media screen and (min-width: 750px) and (max-width: 1199px) {
    .section-{{ section.id }}-padding {
      padding-top: calc({{ section.settings.padding_top }}px * {{ section.settings.padding_tablet_rate | divided_by: 100.0 }});
      padding-bottom: calc({{ section.settings.padding_bottom }}px * {{ section.settings.padding_tablet_rate | divided_by: 100.0 }});
    }
  }

  @media screen and (min-width: 1200px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{% endstyle %}
