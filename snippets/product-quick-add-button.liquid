{% comment %}
    Accepts:
    - product: The product object
    - button_text: Custom button text (optional, defaults to "QUICK ADD")
    - button_class: Additional CSS classes (optional)
    - modal_target: Modal target ID (optional, defaults to "quickAdd")
    - style: Button style variant (optional, defaults to "style-1")
{% endcomment %}

{% assign button_class = button_class | default: 'tf-btn btn-purple-2 rounded-0' %}
{% assign modal_target = modal_target | default: '#quickAdd' %}
{% assign style = style | default: 'style-1' %}

{% comment %} Set button class based on style {% endcomment %}
{% case style %}
  {% when 'style-1' %}
    {% assign button_class = 'tf-btn btn-purple-2 rounded-0' %}
  {% when 'style-2' %}
    {% assign button_class = 'tf-btn' %}
  {% when 'style-3' %}
    {% assign button_class = 'tf-btn' %}
  {% else %}
    {% assign button_class = button_class | default: 'tf-btn btn-purple-2 rounded-0' %}
{% endcase %}

{% if product.available %}
  <a href="{{ modal_target }}" 
     class="{{ button_class }} product-quick-add-button"
     data-quick-add="true"
     data-product="{{ product | json | escape }}"
     data-product-id="{{ product.id }}"
     data-product-handle="{{ product.handle }}"
     data-product-title="{{ product.title | escape }}"
     data-product-price="{{ product.price }}"
     data-product-compare-price="{{ product.compare_at_price }}"
     data-product-image="{{ product.featured_image | image_url: width: 300 }}"
     data-product-url="{{ product.url }}">
    {{ 'products.product.quick_add' | t }}
  </a>
{% endif %}
