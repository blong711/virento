{% comment %}
    Accepts:
    - product: The product object
    - button_text: Custom button text (optional, defaults to "QUICK ADD")
    - button_class: Additional CSS classes (optional)
    - modal_target: Modal target ID (optional, defaults to "quickAdd")
{% endcomment %}

{% assign button_text = button_text | default: 'QUICK ADD' %}
{% assign button_class = button_class | default: 'tf-btn btn-purple-2 rounded-0' %}
{% assign modal_target = modal_target | default: '#quickAdd' %}

{% if product.available %}
  <a href="{{ modal_target }}" 
     data-bs-toggle="modal" 
     class="{{ button_class }} product-quick-add-button"
     data-quick-add="true"
     data-product="{{ product | json | escape }}"
     data-product-id="{{ product.id }}"
     data-product-handle="{{ product.handle }}"
     data-product-title="{{ product.title | escape }}"
     data-product-price="{{ product.price }}"
     data-product-compare-price="{{ product.compare_at_price }}"
     data-product-image="{{ product.featured_image | image_url: width: 300 }}"
     data-product-url="{{ product.url }}">
    {{ button_text }}
  </a>
{% endif %}
